<!doctype html>
<html lang="en-US">
  <head>
    <title>javascript</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="assert.js"></script>
  </head>

  <body>
    <pre id="console">
      <script>
/* global show, log, theEnd */

'use strict';

// - Understand the problem
//   * implicit knowledge
//   * terminology
//   * ask questions
//   * input
//   * output
// - Test cases
//   * edge cases
//   * handling failure
//   * ask questions
// - Data Structure
//   * input
//   * output
//   * rules/logic as data
// - Algorithm
//   * use language of data structure (map, split, etc)
// - Abstraction
//   * 1-2 sentences
//*****************************************************************************
// The problem:
//   - Write a function that:
//     - takes an unordered Array argumnent
//     - the array has exactly one element value that occurs twice
//     - all other element values occur exactly once each
//     - returns the element value that occurs twice
//     - assume:
//       - all arguments are always arrays
//       - the array always has exactly one element value that occurs twice
//       - all other element values always occur exactly once each
// Test cases:
//   - argument has exactly 2 elements
//   - argument has exactly 3 elements
//   - argument has exactly 4 elements
//   - argument has a bunch of elements
// Data structure
//   input: array argument
//   output: value
// Algorithm
//   - set hash to keep track track of seen elements
//   - for each element in array
//     - if value already seen
//       - return value
//     - mark value as seen
// Abstraction

function NotFoundError() {
  this.message = 'Duplicate value not found.';
  this.name = 'NotFoundError';
}

function findDup(array) {
  var seen = {};
  var index;
  var value;

  for (index = 0; index < array.length; ++index) {
    value = array[index];
    if (seen[String(value)]) {
      return value;
    } else {
      seen[String(value)] = true;
    }
  }

  // Should never get here
  throw new NotFoundError();
}

log(findDup([2, 2]), 2);
log(findDup([2, 5, 2]), 2);
log(findDup([1, 5, 3, 1]), 1);
log(findDup([5, 1, 3, 1]), 1);
log(findDup([5, 3, 1, 1]), 1);
log(findDup([5, 1, 1, 3]), 1);
log(findDup([5, 1, 1, 1]), 1);
log(findDup([1, 1, 1, 1]), 1);
log(findDup([1, 5, 1, 5]), 1);

/* eslint-disable indent */
log(findDup([18,  9, 36, 96, 31, 19, 54, 75, 42, 15,
             38, 25, 97, 92, 46, 69, 91, 59, 53, 27,
             14, 61, 90, 81,  8, 63, 95, 99, 30, 65,
             78, 76, 48, 16, 93, 77, 52, 49, 37, 29,
             89, 10, 84,  1, 47, 68, 12, 33, 86, 60,
             41, 44, 83, 35, 94, 73, 98,  3, 64, 82,
             55, 79, 80, 21, 39, 72, 13, 50,  6, 70,
             85, 87, 51, 17, 66, 20, 28, 26,  2, 22,
             40, 23, 71, 62, 73, 32, 43, 24,  4, 56,
             7,  34, 57, 74, 45, 11, 88, 67,  5, 58]), 73);
 /* eslint-enable indent */
theEnd();
      </script>
    </pre>
  </body>
</html>
